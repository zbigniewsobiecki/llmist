# ~/.llmist/cli.toml
# Example configuration file for llmist CLI
#
# Copy this file to ~/.llmist/cli.toml to customize CLI defaults.
# All settings are optional - only specify what you want to override.

#──────────────────────────────────────────────────────────────────────────────
# GLOBAL OPTIONS
# These apply to all commands and override environment variables.
# CLI flags (--log-level, --log-file) still take priority over these.
#──────────────────────────────────────────────────────────────────────────────
[global]
# log-level = "info"                     # silly, trace, debug, info, warn, error, fatal
# log-file = "/tmp/llmist.log"           # Log file path (enables JSON logging)

#──────────────────────────────────────────────────────────────────────────────
# COMPLETE COMMAND DEFAULTS
# These settings apply when running: llmist complete "prompt"
#──────────────────────────────────────────────────────────────────────────────
[complete]
model = "anthropic:claude-sonnet-4-5"   # Model identifier (provider:model or alias)
# system = "You are a helpful assistant." # System prompt
# temperature = 0.7                      # Sampling temperature (0-2)
# max-tokens = 4096                      # Maximum output tokens

#──────────────────────────────────────────────────────────────────────────────
# AGENT COMMAND DEFAULTS
# These settings apply when running: llmist agent "prompt"
#──────────────────────────────────────────────────────────────────────────────
[agent]
model = "anthropic:claude-sonnet-4-5"
# system = "You are a helpful assistant with access to tools."
# temperature = 0.5
max-iterations = 15                      # Max agent loop iterations
# gadget = [                             # Default gadgets to load
#   "~/gadgets/filesystem.ts",
#   "~/gadgets/calculator.ts",
# ]
# parameter-format = "toml"              # json, yaml, toml, or auto
# builtins = true                        # Enable built-in gadgets (AskUser, TellUser)
# builtin-interaction = true             # Enable AskUser (set false for non-interactive)

#──────────────────────────────────────────────────────────────────────────────
# CUSTOM COMMANDS
# Any section other than [complete] and [agent] creates a new CLI command.
# Custom commands appear in `llmist --help` and can be run like built-in commands.
#──────────────────────────────────────────────────────────────────────────────

# Code review command
# Usage: llmist code-review "Review this: $(cat myfile.ts)"
#        cat myfile.ts | llmist code-review
[code-review]
type = "agent"                           # "agent" (default) or "complete"
description = "Review code for bugs, security issues, and best practices."
model = "anthropic:claude-sonnet-4-5"
system = """
You are a senior code reviewer. For each piece of code:
1. Identify bugs and logic errors
2. Check for security vulnerabilities (injection, XSS, etc.)
3. Suggest performance improvements
4. Note style issues and best practices
Be constructive and explain your reasoning.
"""
max-iterations = 5
# gadget = ["~/gadgets/code-analysis.ts"]

# Quick translation command (uses complete mode, no agent loop)
# Usage: llmist translate "Bonjour le monde"
[translate]
type = "complete"
description = "Translate text to English."
model = "openai:gpt-4o"
system = "Translate the following text to English. Preserve formatting and tone."
temperature = 0.3
max-tokens = 2000

# Summarizer command
# Usage: cat long-document.txt | llmist summarize
[summarize]
type = "complete"
description = "Summarize text concisely."
model = "anthropic:claude-sonnet-4-5"
system = """
Summarize the following text concisely. Focus on:
- Key points and main ideas
- Important facts and figures
- Actionable conclusions
Keep the summary to 3-5 paragraphs unless the input is very short.
"""
temperature = 0.3

# Shell helper for system administration
# Usage: llmist shell-help "How do I find large files?"
[shell-help]
type = "agent"
description = "Get help with shell commands and scripts."
model = "anthropic:claude-sonnet-4-5"
system = """
You are a Unix/Linux shell expert. Help users with:
- Writing shell commands and scripts
- Explaining command output
- Debugging shell issues
Always explain what commands do before suggesting them.
"""
builtin-interaction = false              # Non-interactive mode
max-iterations = 3

# Creative writing assistant
# Usage: llmist write "Write a haiku about programming"
[write]
type = "agent"
description = "Creative writing assistant."
model = "anthropic:claude-sonnet-4-5"
system = "You are a creative writing assistant. Help with stories, poems, and other creative content. Be imaginative and engaging."
temperature = 0.9                        # Higher temperature for creativity
max-iterations = 3

# Git commit message helper
# Usage: git diff --staged | llmist commit-msg
[commit-msg]
type = "complete"
description = "Generate a commit message from diff."
model = "anthropic:claude-sonnet-4-5"
system = """
Generate a concise git commit message for the provided diff.
Follow conventional commits format: type(scope): description
Types: feat, fix, docs, style, refactor, test, chore
Keep the first line under 72 characters.
Add bullet points for details if the change is complex.
"""
temperature = 0.3
max-tokens = 500

# Explain code
# Usage: cat complex-function.ts | llmist explain
[explain]
type = "complete"
description = "Explain what code does."
model = "anthropic:claude-sonnet-4-5"
system = """
Explain what the provided code does in clear, simple terms.
- Start with a one-sentence summary
- Break down the logic step by step
- Note any important edge cases or assumptions
- Mention potential issues or improvements if relevant
"""
temperature = 0.3
